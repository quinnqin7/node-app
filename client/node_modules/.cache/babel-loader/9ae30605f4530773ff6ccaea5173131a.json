{"remainingRequest":"/Users/qinnan/Desktop/hospital/node-app/client/node_modules/babel-loader/lib/index.js!/Users/qinnan/Desktop/hospital/node-app/client/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/qinnan/Desktop/hospital/node-app/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/qinnan/Desktop/hospital/node-app/client/src/views/patientlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/qinnan/Desktop/hospital/node-app/client/src/views/patientlist.vue","mtime":1539796349423},{"path":"/Users/qinnan/Desktop/hospital/node-app/client/node_modules/cache-loader/dist/cjs.js","mtime":1539743026284},{"path":"/Users/qinnan/Desktop/hospital/node-app/client/node_modules/babel-loader/lib/index.js","mtime":1539743026004},{"path":"/Users/qinnan/Desktop/hospital/node-app/client/node_modules/cache-loader/dist/cjs.js","mtime":1539743026284},{"path":"/Users/qinnan/Desktop/hospital/node-app/client/node_modules/vue-loader/lib/index.js","mtime":1539743031717}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Dialog from \"../views/inquiry/Dialog\";\nexport default {\n  name: \"patientlist\",\n  data: function data() {\n    return {\n      tableData: [],\n      formData: {\n        patientId: \"\",\n        patientName: \"\",\n        patientPhone: \"\",\n        description: \"\",\n        patientDetails: \"\",\n        id: \"\"\n      },\n      dialog: {\n        show: false,\n        title: \"\",\n        option: \"edit\"\n      }\n    };\n  },\n  created: function created() {\n    this.getProfile();\n  },\n  components: {\n    Dialog: Dialog\n  },\n  methods: {\n    getProfile: function getProfile() {\n      var _this = this;\n\n      // 获取表格数据\n      this.$axios(\"/api/profiles\").then(function (res) {\n        //console.log(res);\n        _this.tableData = res.data; //this.allTableData = res.data;\n        //this.filterTableData = res.data;\n        // 设置分页数据\n        //this.setPaginations();\n      });\n    },\n    //TODO:编辑患者信息\n    handleEdit: function handleEdit(row) {\n      this.dialog = {\n        show: true,\n        title: '修改患者資料',\n        option: 'edit'\n      }, this.formData = {\n        patientId: row.patientId,\n        patientName: row.patientName,\n        patientPhone: row.patientPhone,\n        description: row.description,\n        patientDetails: row.patientDetails,\n        id: row._id\n      };\n    },\n    //TODO:刪除患者信息\n    handleDelete: function handleDelete(row) {\n      var _this2 = this;\n\n      this.$axios.delete(\"/api/profiles/delete/\".concat(row._id)).then(function (res) {\n        _this2.$message(\"刪除成功\");\n\n        _this2.getProfile();\n      });\n    },\n    //TODO:新增患者信息\n    handleAdd: function handleAdd() {\n      this.dialog = {\n        show: true,\n        title: '新增患者資料',\n        option: 'add'\n      };\n      this.formData = {\n        patientId: \"\",\n        patientName: \"\",\n        patientPhone: \"\",\n        description: \"\",\n        patientDetails: \"\",\n        id: \"\"\n      };\n      this.dialog.show = true;\n    }\n  }\n};",{"version":3,"sources":["patientlist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA,OAAA,MAAA,MAAA,yBAAA;AAEA,eAAA;AACA,QAAA,aADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,iBAAA,EADA;AAEA,gBAAA;AACA,mBAAA,EADA;AAEA,qBAAA,EAFA;AAGA,sBAAA,EAHA;AAIA,qBAAA,EAJA;AAKA,wBAAA,EALA;AAMA,YAAA;AANA,OAFA;AAUA,cAAA;AACA,cAAA,KADA;AAEA,eAAA,EAFA;AAGA,gBAAA;AAHA;AAVA,KAAA;AAgBA,GAnBA;AAqBA,SArBA,qBAqBA;AACA,SAAA,UAAA;AACA,GAvBA;AAwBA,cAAA;AACA;AADA,GAxBA;AA2BA,WAAA;AACA,cADA,wBACA;AAAA;;AACA;AACA,WAAA,MAAA,CAAA,eAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA,cAAA,SAAA,GAAA,IAAA,IAAA,CAFA,CAGA;AACA;AACA;AACA;AACA,OAPA;AAQA,KAXA;AAaA;AACA,cAdA,sBAcA,GAdA,EAcA;AACA,WAAA,MAAA,GAAA;AACA,cAAA,IADA;AAEA,eAAA,QAFA;AAGA,gBAAA;AAHA,OAAA,EAKA,KAAA,QAAA,GAAA;AACA,mBAAA,IAAA,SADA;AAEA,qBAAA,IAAA,WAFA;AAGA,sBAAA,IAAA,YAHA;AAIA,qBAAA,IAAA,WAJA;AAKA,wBAAA,IAAA,cALA;AAMA,YAAA,IAAA;AANA,OALA;AAaA,KA5BA;AA8BA;AACA,gBA/BA,wBA+BA,GA/BA,EA+BA;AAAA;;AACA,WAAA,MAAA,CAAA,MAAA,gCAAA,IAAA,GAAA,GAAA,IAAA,CAAA,eAAA;AACA,eAAA,QAAA,CAAA,MAAA;;AACA,eAAA,UAAA;AACA,OAHA;AAIA,KApCA;AAsCA;AACA,aAvCA,uBAuCA;AACA,WAAA,MAAA,GAAA;AACA,cAAA,IADA;AAEA,eAAA,QAFA;AAGA,gBAAA;AAHA,OAAA;AAKA,WAAA,QAAA,GAAA;AACA,mBAAA,EADA;AAEA,qBAAA,EAFA;AAGA,sBAAA,EAHA;AAIA,qBAAA,EAJA;AAKA,wBAAA,EALA;AAMA,YAAA;AANA,OAAA;AAQA,WAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA;AAtDA;AA3BA,CAAA","sourcesContent":["<template>\n  <div class=\"fillcontain\">\n      <div>\n         <el-form :inline=\"true\" ref=\"add_data\" >\n            <el-form-item class=\"btnRight\">\n                <el-button type=\"primary\" size =\"small\" icon=\"view\" @click='handleAdd()'>新增患者</el-button>\n            </el-form-item>\n         </el-form>\n      </div>\n  <div class=\"table_container\">   \n        <el-table \n            v-if=\"tableData.length > 0\"\n            :data=\"tableData\"\n            max-height=\"450\"\n            border\n            style=\"width: 100%\">\n\n        <el-table-column type=\"index\" label=\"序号\" align='center' width=\"70\"></el-table-column>\n\n          <el-table-column label=\"創建日期\" prop=\"date\" align=\"center\" width=\"250\">\n            <template slot-scope=\"scope\">\n              <i class=\"el-icon-time\"></i>\n              <span style=\"margin-left: 10px\">{{ scope.row.date }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column label=\"健檢編號\" prop=\"patientId\" align=\"center\" width=\"100\"></el-table-column>\n\n          <el-table-column label=\"姓名\" prop=\"patientName\" align=\"center\" width=\"100\">\n              <template slot-scope=\"scope\">\n                  <div slot=\"reference\" class=\"name-wrapper\">\n                    <el-tag size=\"medium\">{{ scope.row.patientName }}</el-tag>\n                  </div>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"聯絡方式\" prop=\"patientPhone\" align=\"center\" width=\"180\"></el-table-column>\n\n          <el-table-column label=\"診斷描述\" prop=\"description\" align=\"center\" width=\"150\">\n              <template slot-scope=\"scope\">  \n                <span style=\"color:#00d053\">{{ scope.row.description }}</span>\n              </template>\n          </el-table-column>\n\n          <el-table-column label=\"診斷建議\" prop=\"patientDetails\" align=\"center\" width=\"150\">\n            <template slot-scope=\"scope\">  \n                <span style=\"color:#f56767\"> {{ scope.row.patientDetails }}</span>\n            </template>\n          </el-table-column>\n\n          <el-table-column prop=\"operation\" align='center' label=\"操作\"  width=\"150\">\n            <template slot-scope='scope'>\n              <el-button type=\"warning\" icon='edit' size=\"mini\" @click='handleEdit(scope.row)'>編輯</el-button>\n              <el-button type=\"danger\" icon='delete' size=\"mini\" @click='handleDelete(scope.row,scope.$index)'>刪除</el-button>\n            </template>\n          </el-table-column>\n      </el-table>\n  </div>\n        <!-- 弹框页面 --> \n        <Dialog :dialog='dialog'  :formData=\"formData\" @update=\"getProfile\"></Dialog>\n</div>\n</template>\n\n<script>\nimport Dialog from \"../views/inquiry/Dialog\";\n\nexport default {\n  name: \"patientlist\",\n  data() {\n    return {\n      tableData: [],\n       formData:{\n        patientId: \"\",\n        patientName: \"\",\n        patientPhone: \"\",\n        description: \"\",\n        patientDetails: \"\",\n        id:\"\"\n      },\n      dialog: {\n        show: false,\n        title: \"\",\n        option: \"edit\"\n      },\n    }\n  },\n \n  created() {\n    this.getProfile();\n  },\n  components: {\n    Dialog\n  },\n  methods: {\n    getProfile() {\n      // 获取表格数据\n      this.$axios(\"/api/profiles\").then(res => {\n        //console.log(res);\n        this.tableData = res.data;\n        //this.allTableData = res.data;\n        //this.filterTableData = res.data;\n        // 设置分页数据\n        //this.setPaginations();\n      })\n    },\n\n    //TODO:编辑患者信息\n    handleEdit(row){ \n      this.dialog={\n        show:true,\n        title:'修改患者資料',\n        option:'edit'\n      },\n      this.formData={\n        patientId:row.patientId,\n        patientName:row.patientName,\n        patientPhone:row.patientPhone,\n        description:row.description,\n        patientDetails:row.patientDetails,\n        id:row._id\n      }\n    },\n\n    //TODO:刪除患者信息\n    handleDelete(row){\n       this.$axios.delete(`/api/profiles/delete/${row._id}`).then(res => {\n          this.$message(\"刪除成功\");\n          this.getProfile();\n       })\n    },\n\n    //TODO:新增患者信息\n    handleAdd(){\n      this.dialog={\n        show:true,\n        title:'新增患者資料',\n        option:'add'\n      };\n      this.formData={\n        patientId:\"\",\n        patientName:\"\",\n        patientPhone:\"\",\n        description:\"\",\n        patientDetails:\"\",\n        id: \"\"\n      };\n      this.dialog.show = true;\n    }\n}\n};\n</script>\n<style scoped>\n.fillcontain {\n  width: 100%;\n  height: 100%;\n  padding: 16px;\n  box-sizing: border-box;\n}\n.btnRight {\n  float: right;\n}\n.pagination {\n  text-align: right;\n  margin-top: 10px;\n}\n</style>"],"sourceRoot":"src/views"}]}